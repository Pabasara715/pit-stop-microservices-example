@model Pitstop.WebApp.ViewModels.CustomerManagementViewModel
@{
    ViewData["Title"] = "Customers Overview";
}

<div class="flex justify-between items-center pt-3 pb-2 mb-4 border-b border-gray-200">
    <h1 class="text-2xl font-semibold text-gray-800">Customer Management</h1>
    <a id="RegisterCustomerButton" asp-action="New" asp-controller="CustomerManagement" class="bg-primary-600 hover:bg-primary-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300 flex items-center">
        <i class="fas fa-plus mr-2"></i> Register Customer
    </a>
</div>

<div class="bg-white shadow-md rounded-lg overflow-hidden">
    <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
            <tr>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Address</th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">City</th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Email Address</th>
            </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
            @if (Model.Customers == null || !Model.Customers.Any())
            {
                <tr>
                    <td colspan="4" class="px-6 py-4 text-center text-gray-500">No customers found. Click 'Register Customer' to begin.</td>
                </tr>
            }
            else
            {
                @foreach (var customer in Model.Customers)
                {
                    <tr class="hover:bg-gray-50 cursor-pointer" onclick="location.href = '@(Url.Action("Details", "CustomerManagement", new { id = customer.CustomerId }))'">
                        <td class="px-6 py-4 whitespace-nowrap">@customer.Name</td>
                        <td class="px-6 py-4 whitespace-nowrap">@customer.Address</td>
                        <td class="px-6 py-4 whitespace-nowrap">@customer.City</td>
                        <td class="px-6 py-4 whitespace-nowrap">@customer.EmailAddress</td>
                    </tr>
                }
            }
        </tbody>
    </table>
</div>